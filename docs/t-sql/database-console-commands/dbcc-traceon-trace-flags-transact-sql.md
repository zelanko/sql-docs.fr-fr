---
title: Indicateurs de trace (Transact-SQL) | Documents Microsoft
ms.custom: 
ms.date: 12/19/2017
ms.prod: sql-non-specified
ms.prod_service: sql-database
ms.service: 
ms.component: t-sql|database-console-commands
ms.reviewer: 
ms.suite: sql
ms.technology: database-engine
ms.tgt_pltfrm: 
ms.topic: language-reference
dev_langs: TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
caps.latest.revision: "171"
author: pmasl
ms.author: pelopes
manager: jhubbard
ms.workload: Active
ms.openlocfilehash: 05d205ca74a1da06e0783a69102b332603ec75a0
ms.sourcegitcommit: 2208a909ab09af3b79c62e04d3360d4d9ed970a7
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/02/2018
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON - les indicateurs de Trace (Transact-SQL)
[!INCLUDE[tsql-appliesto-ss2012-xxxx-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-xxxx-xxxx-xxx-md.md)]

Les indicateurs de trace permettent de définir temporairement des caractéristiques de serveur spécifiques ou de désactiver un comportement particulier. Par exemple, si l'indicateur de trace 3205 est défini au démarrage d'une instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], la compression matérielle des lecteurs de bandes est désactivée. Les indicateurs de trace servent le plus souvent à diagnostiquer des problèmes de performances et à déboguer des procédures stockées ou des systèmes informatiques complexes.
  
Le tableau ci-dessous répertorie et décrit les indicateurs de trace disponibles dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
 
> [!NOTE]
> Certains indicateurs de trace ont été introduits dans spécifiques [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] versions. Pour plus d’informations sur la version applicable, consultez l’article de Support technique de Microsoft associé à un indicateur de trace spécifique.

> [!IMPORTANT]
> Il est possible que le comportement des indicateurs de trace ne soit pas pris en charge dans les prochaines versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 

  
|Indicateur de trace|Description|  
|---|---|
|**139**| Force correct de la sémantique de conversion dans la portée de DBCC vérifier commandes telles que [DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) et [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md), lors de l’analyse de la logique de précision et de conversion améliorée introduite avec le niveau de compatibilité 130 pour les types de données spécifiques, sur une base de données qui a un niveau de compatibilité inférieur. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/help/4010261).<br /><br />**Remarque :** cet indicateur de trace s’applique aux [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] CU3 RTM, [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 et aux builds plus élevées.<br /><br />**Avertissement :** Trace indicateur 139 n’est pas destinée à être activée en permanence dans un environnement de production et doit être utilisé dans le seul but d’effectuer la validation de base de données vérifie décrites dans cette [article du Support Microsoft](http://support.microsoft.com/help/4010261). Il doit être désactivé immédiatement après que les contrôles de validation sont effectués.<br /><br />**Étendue**: globale uniquement|
|**174**|Augmente la [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] planifier le nombre de compartiments de cache à partir de 40,009 à 160,001 sur les systèmes 64 bits. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3026083).<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue**: globale uniquement|
|**176**|Active un correctif à corriger les erreurs lors de la reconstruction des partitions en ligne pour les tables qui contiennent une colonne de partitionnement calculée. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3213683).<br /><br />**Étendue**: global ou session|
|**205**|Rapports dans le journal des erreurs lors de la suite d’une procédure stockée dépendant des statistiques est recompilée-mise à jour automatique des statistiques. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/195565).<br /><br />**Étendue**: globale uniquement|
|**260**|Imprime les informations de version relatives aux bibliothèques de liaison dynamique (DLL) des procédures stockées étendues. Pour plus d’informations sur **GetXpVersion()**, consultez [création de procédures stockées étendues](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Étendue :** global ou session|
|**272**|Désactive la préallocation d’identité afin d’éviter les écarts dans les valeurs d’une colonne d’identité dans les cas où le serveur redémarre de façon inattendue ou bascule vers un serveur secondaire. Notez que la mise en cache d’identité est utilisée pour améliorer les performances d’insertion sur des tables avec colonnes identity.<br /><br />**Remarque :** compter [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], pour effectuer cette opération au niveau de la base de données, consultez l’option IDENTITY_CACHE dans [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Étendue**: globale uniquement|
|**610**|Contrôles de journalisation minimale des insertions dans des tables indexées. Ce suivi indicateur n’est pas nécessaire de démarrage de SQL Server 2016, comme la journalisation minimale est activée par défaut pour les tables indexées. Dans SQL Server 2016, quand l’opération de chargement en masse entraîne une nouvelle page à allouer, toutes les lignes séquentiellement remplissant cette nouvelle page sont journalisées si tous les autres composants requis pour la journalisation minimale sont remplies. Lignes insérées dans des pages existantes (aucune nouvelle allocation de page) pour conserver l’ordre d’index sont toujours entièrement journalisées, comme les lignes qui sont déplacés à la suite de fractionnements de pages lors du chargement. Il est également important d’avoir ALLOW_PAGE_LOCKS allumés pour les index (qui est activé par défaut) pour l’opération de journalisation minimale à travailler des verrous de page sont acquis au cours de l’allocation et de page ainsi qu’ou allocations des extensions sont enregistrées. Pour plus d’informations, consultez [Guide des performances de chargement des données](https://msdn.microsoft.com/library/dd425070.aspx).<br /><br />**Étendue**: global ou session|
|**634**|Désactive la tâche de compression de columnstore d'arrière-plan. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]exécute régulièrement la tâche d’arrière-plan de moteur de Tuple qui compresse les rowgroups d’index columnstore avec des données non compressées, un rowgroup à la fois.<br /><br />La compression columnstore améliore les performances des requêtes mais consomme également des ressources système. Vous pouvez contrôler le minutage de la compression columnstore manuellement, par la désactivation de la tâche de compression en arrière-plan avec l’indicateur de trace 634, puis en appelant explicitement ALTER INDEX... RÉORGANISER ou ALTER INDEX... RECONSTRUIRE au moment de votre choix.<br /><br />**Étendue :** globale uniquement|
|**652**|Désactive le balayage de page avant l’extraction. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: global ou session|
|**661**|Désactive le processus de suppression de l’enregistrement fantôme. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: globale uniquement|
|**692**|Désactive des insertions rapides lors en bloc de chargement de données dans le segment de mémoire ou index ordonné en clusters. Démarrage [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], des insertions rapides est activée par défaut en exploitant une journalisation minimale lors de la base de données est en mode de récupération de journalisées en bloc ou simple pour optimiser les performances d’insertion d’enregistrements insérés dans de nouvelles pages. Avec des insertions rapides, chaque lot de chargement en bloc acquiert de nouvelles étendues en ignorant la recherche d’allocation d’espace libre pour optimiser les performances d’insertion étendue existante.<br /><br /> Avec des insertions rapides, les chargements en masse avec des lots de petite taille accrue espace consommée par les objets par conséquent, qu'il est recommandé d’utiliser des grandes batchsize pour chaque lot pour remplir l’extension complètement peut entraîner. Si l’augmentation batchsize n’est pas faisable, cet indicateur de trace peut aider à réduire l’espace réservé au détriment des performances. <br /><br />**Remarque :** cet indicateur de trace s’applique aux [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM et les builds plus élevées.<br /><br />**Étendue**: global ou session|
|**715**|Active le verrou de table pour les opérations de chargement en bloc dans un segment de mémoire sans index non cluster. Lorsque cet indicateur de trace est activé, les opérations de chargement en masse acquièrent les verrous bulk update (BU) lors de la copie des données dans une table en bloc. Les verrous Bulk update (BU) permettent à plusieurs threads de chargement en masse données simultanément dans la même table, tout en empêchant d’autres processus qui ne sont pas des données de chargement en bloc d’accéder à la table.<br /><br />Le comportement est similaire à lorsque l’utilisateur spécifie explicitement indicateur TABLOCK lors du chargement en masse, ou lorsque la table de sp_tableoption verrouiller sur le chargement en masse est activée pour une table donnée. Toutefois, lorsque cet indicateur de trace est activé, ce problème devient par défaut sans aucune modification de la requête ou de la base de données.<br /><br />**Étendue :** global ou session|
|**834**|Utilise les allocations de pages de grande taille de Microsoft Windows pour le pool de mémoires tampons. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3210239).<br /><br />**Remarque :** si vous utilisez la fonctionnalité de Columnstore Index de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] à [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], nous ne recommandons pas l’indicateur de trace 834 sous tension.<br /><br />**Étendue**: globale uniquement|
|**845**|Permet de verrouillage des pages sur les références Standard de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], lorsque le compte de service [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a verrouillage des Pages dans activé de mémoire. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/970070) et la page de documentation sur [mémoire serveur option de Configuration](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ce comportement est activé par défaut pour les éditions Standard, et l’indicateur de trace 845 ne doit pas être utilisé.<br /><br />**Étendue**: globale uniquement|
|**902**|Ignore l’exécution du script de mise à niveau de base de données lors de l’installation d’une mise à jour Cumulative ou un Service Pack. Si vous rencontrez une erreur lors du mode de mise à niveau de script, il est recommandé de contacter le Service clientèle de Microsoft SQL et de Support (CSS) pour obtenir des instructions. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2163980).<br /><br />**Avertissement :** cet indicateur de trace est destiné à la résolution des problèmes de mises à jour ayant échouées au cours du mode de mise à niveau de script, et il n’est pas pris en charge pour l’exécuter en continu dans un environnement de production. Les scripts de mise à niveau de la base de données doit s’exécuter avec succès pour une installation complète de mises à jour cumulatives et Service Packs. Sinon, peut provoquer des problèmes inattendus avec votre [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.<br /><br />**Étendue**: globale uniquement|
|**1117**|Lorsqu’un fichier dans le groupe de fichiers est conforme au seuil de croissance automatique, tous les fichiers dans le groupe de fichiers augmente.<br /><br />**Remarque :** compter [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ce comportement est contrôlé par l’option Options AUTOGROW_SINGLE_FILE et AUTOGROW_ALL_FILES d’ALTER DATABASE et l’indicateur de trace 1117 n’a aucun effet. Pour plus d’informations, consultez [modifier le fichier de base de données et les Options de groupe de fichiers &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Étendue :** globale uniquement|
|**1118**|Supprime la plupart des allocations de pages uniques sur le serveur, réduisant ainsi la contention de la page SGAM. Lorsqu’un nouvel objet est créé, par défaut, les huit premières pages sont allouées à partir d’étendues différentes (étendues mixtes). Par la suite, quand d'autres pages seront nécessaires, elles seront allouées à partir de cette même étendue (étendue uniforme). La page SGAM permet d'effectuer le suivi de ces étendues mixtes et peut rapidement devenir un goulot d'étranglement en cas de nombreuses allocations de pages mixtes. Au moment de la création d'objets, l'indicateur de trace alloue les huit pages à partir de la même étendue, ce qui réduit la nécessité d'analyser la page SGAM. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/328551).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ce comportement est contrôlé par l’option SET MIXED_PAGE_ALLOCATION d’ALTER DATABASE, et l’indicateur de trace 1118 n’a aucun effet. Pour plus d’informations, consultez [Options ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Étendue :** globale uniquement|  
|**1204**|Retourne les ressources et les types de verrous participant à l'interblocage et la commande active affectée. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/832524).<br /><br />**Étendue :** globale uniquement|  
|**1211**|Désactive l'escalade de verrous en fonction de la sollicitation de la mémoire ou du nombre de verrous. Le [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] ne promeut aucun verrou de ligne ou de page au rang de verrou de table.<br /><br />L'utilisation de cet indicateur de trace peut générer un nombre excessif de verrous. Ceci peut entraîner un ralentissement des performances du [!INCLUDE[ssDE](../../includes/ssde-md.md)] ou provoquer des erreurs de type 1204 (impossible d'allouer la ressource du verrou) pour cause de mémoire insuffisante.<br /><br />Si les deux indicateurs de trace 1211 et 1224 sont définis, 1211 est prioritaire sur 1224. Toutefois, comme l'indicateur de trace 1211 empêche l'escalade dans chaque cas, même si la mémoire est sollicitée, nous vous recommandons d'utiliser 1224. Cela permet d'éviter les erreurs liées au manque de verrous, lorsque de nombreux verrous sont utilisés.<br /><br />**Étendue**: global ou session|  
|**1222**|Retourne les ressources et les types de verrous participant au blocage et la commande active affectée, au format XML n'ayant à être validé par aucun schéma XSD particulier.<br /><br />**Étendue**: globale uniquement|  
|**1224**|Désactive l'escalade de verrous en fonction du nombre de verrous. Cependant, une sollicitation de la mémoire peut toujours activer l'escalade de verrous. Le [!INCLUDE[ssDE](../../includes/ssde-md.md)] promeut les verrous de ligne ou de page au rang de verrous de table (ou de partition) si l'une des conditions suivantes n'est pas respectée :<br /><br />-Quarante pour cent de la mémoire utilisée par [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Ceci est applicable uniquement lorsque la **verrous** paramètre de sp_configure est définie sur 0.<br />-Quarante pour cent de la mémoire de verrou qui est configurée à l’aide de la **verrous** paramètre de sp_configure. Pour plus d’informations, consultez [Options de configuration de serveur &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />Si les deux indicateurs de trace 1211 et 1224 sont définis, 1211 est prioritaire sur 1224. Toutefois, comme l'indicateur de trace 1211 empêche l'escalade dans chaque cas, même si la mémoire est sollicitée, nous vous recommandons d'utiliser 1224. Cela permet d'éviter les erreurs liées au manque de verrous, lorsque de nombreux verrous sont utilisés.<br /><br />**Remarque :** escalade de verrous au niveau de la table ou granularité au niveau du HoBT peut également être contrôlé à l’aide de l’option LOCK_ESCALATION de le [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md) instruction.<br /><br />**Étendue :** global ou session|
|**1236**|Active le partitionnement de verrous de base de données. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2926217).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 ce comportement est contrôlé par l’indicateur de trace et de moteur 1236 n’a aucun effet.<br /><br />**Étendue**: globale uniquement|
|**1237**|Permet à l’instruction ALTER PARTITION FUNCTION honorer la priorité de blocage de session défini par l’utilisateur en cours au lieu d’être la victime du blocage probable par défaut. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/help/4025261).<br /><br />**Remarque :** compter [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] et base de données [le niveau de compatibilité](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) 140 il s’agit du comportement par défaut et l’indicateur de trace 1237 n’a aucun effet.<br /><br />**Étendue**: global ou session ou une requête|
|**1260**|Désactiver les vidages de moniteur du planificateur.<br /><br />**Étendue**: globale uniquement|   
|**1448**|Permet à l'agent de lecture du journal de réplication d'avancer même si les éléments secondaires asynchrones n'ont pas accusé réception d'une modification. Même si cet indicateur de trace a activé l'agent de lecture de journal, attendez toujours les éléments secondaires synchrones. L'agent de lecture du journal n'ira pas au delà de l'accusé réception minimum des éléments secondaires synchrones. Cet indicateur de trace s'applique à l'instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], et pas simplement à un groupe de disponibilité, à une base de données de disponibilité ou à une instance de l'agent de lecture de journal. Prend effet immédiatement, sans redémarrage. Cet indicateur de trace peut être activé d'avance ou lorsque l'élément secondaire asynchrone échoue. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/937041).<br /><br />**Étendue**: globale uniquement|   
|**1462**|Ouvrez une session désactive la compression du flux de données pour les groupes de disponibilité asynchrone. Cette fonctionnalité est activée par défaut sur les groupes de disponibilité asynchrone afin d’optimiser la bande passante réseau. Pour plus d’informations, consultez [Régler la compression pour le groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue**: globale uniquement| 
|**1800**|Permet de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] optimisation lorsque des disques de tailles de secteur différentes sont utilisées pour les fichiers journaux du réplica principal et secondaire dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] environnements Always On et l’envoi de journaux. Cet indicateur de trace ne doit être activé sur les instances de SQL Server avec le fichier journal des transactions qui résident sur le disque avec une taille de secteur de 512 octets. Il s’agit de **pas** doit être activée sur le disque avec des tailles de secteur de 4 Ko. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3009974).<br /><br />**Étendue :** globale uniquement|
|**2301**|Activer les optimisations de prise en charge des décisions. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: global et session et requête|
|**2312**|Permet de définir le modèle d’estimation de cardinalité d’optimiseur de requête la [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] via [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versions, dépendantes du niveau de compatibilité de la base de données. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'FORCE_DEFAULT_CARDINALITY_ESTIMATION' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue**: global ou session ou une requête| 
|**2335**|Entraîne [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] supposent une quantité fixe de mémoire est disponible pendant l’optimisation des requêtes. Il ne limite pas la mémoire [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] permet d’exécuter la requête. La mémoire configurée pour [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sera toujours utilisé par le cache de données, l’exécution des requêtes et d’autres consommateurs. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2413549).<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue**: global ou session ou une requête|
|**2340**|Entraîne [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ne doit ne pas utiliser une opération de tri (tri batch) pour optimisée des jointures de boucles imbriquées lors de la génération d’un plan. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2009160).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'DISABLE_OPTIMIZED_NESTED_LOOP' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue**: global ou session ou une requête|
|**2371**|Modifie le seuil de statistiques de mise à jour automatique fixe au seuil de statistiques de mise à jour automatique dynamique. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2754171).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] et, sous la [le niveau de compatibilité de base de données](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130, ce comportement est contrôlé par le moteur et l’indicateur de trace 2371 n’a aucun effet.<br /><br />**Étendue**: globale uniquement|
|**2389**|Activer généré automatiquement des statistiques rapides pour l’ordre croissant des clés (modification de l’histogramme). Si l’indicateur de trace 2389 est définie, et une première colonne de statistiques est marquée comme croissant, l’histogramme utilisée pour estimer la cardinalité sera ajustée à la compilation de requête. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Remarque :** cet indicateur de trace ne s’applique pas à CE la version 120 ou version ultérieure. Utilisez l’indicateur de trace 4139 à la place.<br /><br />**Étendue**: global ou session ou une requête|
|**2390**|Activer les statistiques de rapides générés automatiquement pour les clés croissantes ou inconnus (modification de l’histogramme). Si l’indicateur de trace 2390 est définie, et une première colonne de statistiques est marquée comme étant l’ordre croissant ou inconnu, l’histogramme utilisée pour estimer la cardinalité sera ajustée à la compilation de requête. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Remarque :** cet indicateur de trace ne s’applique pas à CE la version 120 ou version ultérieure. Utilisez l’indicateur de trace 4139 à la place.<br /><br />**Étendue**: global ou session ou une requête|
|**2430**|Active un autre nettoyage de classe de verrou. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2754301).<br /><br />**Étendue**: globale uniquement| 
|**2453**|Permet à une variable de table déclencher recompile lorsque suffisamment nombre de lignes est modifiée. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2952444).<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue**: global ou session ou une requête|
|**2528**|Désactive la vérification parallèle des objets par DBCC CHECKDB, DBCC CHECKFILEGROUP et DBCC CHECKTABLE. Par défaut, le degré de parallélisme est déterminé automatiquement par le processeur de requête. Le degré maximum de parallélisme est configuré de la même manière que celui des requêtes parallèles. Pour plus d’informations, consultez [Configurer l’option de configuration du serveur max degree of parallelism](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Remarque :** DBCC parallèle vérifie en principe doit être activée (valeur par défaut). Le processeur de requêtes réévalue et ajuste automatiquement le parallélisme pour chaque table ou d’un lot de tables vérifiées par DBCC CHECKDB.<br /><br />Le scénario d’utilisation classique est lorsqu’un administrateur système sait qu’une charge serveur augmente avant que DBCC CHECKDB se termine et souhaite réduire ou désactiver le parallélisme, afin d’augmenter la concurrence avec d’autres charges de travail utilisateur manuellement. Toutefois, la désactivation des vérifications parallèles de DBCC CHECKDB peut provoquer qu’il prenne plus de temps.<br /><br />**Remarque :** si DBCC CHECKDB est exécutée à l’aide de l’option TABLOCK et parallélisme est désactivé, les tables peuvent être verrouillées pendant de longues périodes.<br /><br />**Remarque :** compter [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2, une option MAXDOP est disponible pour remplacer l’option max degree of parallelism configuration de sp_configure pour l’instruction.<br /><br />**Étendue**: global ou session|
|**2549**|Exécute la commande DBCC CHECKDB en supposant que de chaque fichier de base de données se trouve sur un lecteur de disque unique. Commande DBCC CHECKDB génère une liste de pages à lire par le lecteur de disque unique parmi tous les fichiers de base de données interne. Cette logique détermine les lecteurs de disque uniques en fonction de la lettre de lecteur du nom de fichier physique de chaque fichier.<br /><br />**Remarque :** n’utilisez pas cet indicateur de trace, sauf si vous savez que chaque fichier est basé sur un disque physique unique.<br /><br />**Remarque :** bien que cet indicateur de trace améliore les performances d’utilisation de l’option PHYSICAL_ONLY cible des commandes DBCC CHECKDB, certains utilisateurs ne peuvent pas voir toute amélioration des performances. Lorsque cet indicateur de trace améliore l’utilisation des ressources d’e/s disque, les performances sous-jacente des ressources de disque peuvent limiter les performances globales de la commande DBCC CHECKDB. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/kb/2634571).<br /><br />**Étendue**: globale uniquement| 
|**2562**|Exécute la commande DBCC CHECKDB dans un seul « batch », quel que soit le nombre d’index dans la base de données. Par défaut, la commande DBCC CHECKDB tente de réduire les ressources de tempdb en limitant le nombre d’index ou de « faits » qu’il génère à l’aide d’un concept de « lots ». Cet indicateur de trace force tout le traitement par lot.<br /><br />Un effet de l’utilisation de cet indicateur de trace est que l’espace nécessaire pour tempdb peut augmenter. Tempdb peut atteindre jusqu'à 5 % ou plus de la base de données utilisateur qui est en cours de traitement par la commande DBCC CHECKDB.<br /><br />**Remarque :** bien que cet indicateur de trace améliore les performances d’utilisation de l’option PHYSICAL_ONLY cible des commandes DBCC CHECKDB, certains utilisateurs ne peuvent pas voir toute amélioration des performances. Lorsque cet indicateur de trace améliore l’utilisation des ressources d’e/s disque, les performances sous-jacente des ressources de disque peuvent limiter les performances globales de la commande DBCC CHECKDB. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/kb/2634571).<br /><br />**Étendue**: globale uniquement|
|**2566**|Exécute la commande DBCC CHECKDB sans vérification des données à la pureté, sauf si l’option DATA_PURITY est spécifiée.<br /><br />**Remarque :** les vérifications d’intégrité de la valeur de colonne sont activés par défaut et ne nécessitent pas l’option DATA_PURITY. Pour les bases de données mis à niveau à partir de versions antérieures de SQL Server, les vérifications de la valeur de la colonne ne sont pas activées par défaut jusqu'à ce que DBCC CHECKDB WITH DATA_PURITY a été exécuté sans erreur sur la base de données au moins une fois. Ensuite, DBCC CHECKDB vérifie l'intégrité sur la base colonne-valeur par défaut. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/kb/945770).<br /><br />**Étendue**: globale uniquement|
|**3023**|Permet l’option CHECKSUM comme valeur par défaut pour la commande de sauvegarde. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2656988).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] ce comportement est contrôlé en définissant le **par défaut de somme de contrôle de sauvegarde** option de configuration. Pour plus d’informations, consultez [Options de configuration de serveur &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />**Étendue**: global et session|
|**3042**|Contourne l'algorithme de préallocation de compression de sauvegarde par défaut pour permettre au fichier de sauvegarde de croître autant que nécessaire uniquement afin d'atteindre sa taille définitive. Cet indicateur de trace est utile si vous devez économiser de l'espace en allouant uniquement la taille réelle requise pour la sauvegarde compressée. L'utilisation de cet indicateur de trace peut diminuer légèrement les performances (augmentation possible de la durée de l'opération de sauvegarde). Pour plus d’informations sur l’algorithme de préallocation, consultez [Compression de sauvegarde &#40; SQL Server &#41; ](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Étendue**: globale uniquement|
|**3051**|Permet à SQL Server Backup to URL la journalisation dans un fichier de journal des erreurs spécifiques. Pour plus d’informations, consultez [SQL Server Backup to URL meilleures pratiques et dépannage](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Étendue**: globale uniquement|  
|**3205**|Par défaut, si une unité sur bande gère la compression matérielle, l'instruction DUMP ou BACKUP en fera usage. Cet indicateur de trace permet de désactiver la compression matérielle pour les unités de sauvegarde sur bande. Cette option peut s'avérer utile lorsque vous souhaitez échanger des bandes avec d'autres sites ou les utiliser avec des unités qui ne gèrent pas la compression.<br /><br />**Étendue**: global ou session|  
|**3226**|Par défaut, chaque opération de sauvegarde réussie ajoute une entrée au journal des erreurs [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et au journal des événements système. Si vous créez des sauvegardes de journal très fréquentes, ces messages de réussite rapidement s’accumuler, ce qui entraîne des journaux d’erreurs énorme compliquer la recherche d’autres messages pose problème.<br /><br />Avec cet indicateur de trace, vous pouvez supprimer ces entrées de journal. L'activation de cet indicateur de trace est utile si vous exécutez des sauvegardes de fichiers journaux fréquentes et si aucun de vos scripts ne dépend de ces entrées.<br /><br />**Étendue**: globale uniquement|   
|**3427**|Permet de résoudre les problème lors de la table de transactions consécutifs, insertion de données dans temp [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] consomment plus d’UC que dans [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/help/3216543)<br /><br />**Étendue**: globale uniquement|  
|**3608**|Empêche [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de démarrer automatiquement et de récupération d’une base de données à l’exception de la **master** base de données. Si les activités qui nécessitent **tempdb** sont lancées, **modèle** est récupérée et **tempdb** est créé. Les autres bases de données ne sont démarrées et récupérées qu'en cas d'accès. Certaines fonctionnalités, telles que le niveau d'isolement d'instantané et l'instantané Read Committed, peuvent ne pas fonctionner. Utiliser pour [déplacer des bases de données système](../../relational-databases/databases/move-system-databases.md) et [déplacer des bases de données utilisateur](../../relational-databases/databases/move-user-databases.md).<br /><br />**Remarque :** n’utilisez pas de fonctionnement normal.<br /><br />**Étendue**: globale uniquement|   
|**3625**|Limite la quantité d’informations renvoyées aux utilisateurs qui ne sont pas membres du rôle serveur fixe sysadmin, en masquant les paramètres de certains messages d’erreur à l’aide de '\*\*\*\*\*\*'. Cela peut permettre d'éviter la divulgation d'informations sensibles.<br /><br />**Étendue**: globale uniquement|  
|**4136**|Désactive le paramètre de détection, sauf si option (RECOMPILE), WITH RECOMPILE ou OPTIMIZE FOR \<valeur > est utilisé. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/kb/980653). Pour ce faire, au niveau de la base de données, consultez l’option PARAMETER_SNIFFING dans [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md). Pour ce faire, au niveau de la requête, ajoutez le OPTIMIZE FOR UNKNOWN [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md). En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, une seconde option pour effectuer cette opération au niveau de la requête consiste à ajouter l’indicateur USE 'PARAMETER_SNIFFING' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue**: global ou session|  
|**4137**|Entraîne [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour générer un plan à l’aide de sélectivité minimale lors de l’évaluation des prédicats et des filtres pour prendre en compte pour la corrélation, sous le modèle d’estimation de cardinalité d’optimiseur de requête de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et les versions antérieures. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2658214).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace lors de l’utilisation de l’estimation de cardinalité héritée.<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Remarque :** cet indicateur de trace ne s’applique pas à CE la version 120 ou version ultérieure. Utilisez l’indicateur de trace 9471 à la place.<br /><br />**Étendue**: global ou session ou une requête| 
|**4138**|Entraîne [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour générer un plan qui n’utilise pas les réglages d’objectif de ligne avec les requêtes qui contiennent TOP, OPTION (FAST N), ou mots clés. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2667211).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'DISABLE_OPTIMIZER_ROWGOAL' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue**: global ou session ou une requête| 
|**4139**|Activer généré automatiquement les statistiques rapide (modification de l’histogramme), quelle que soit l’état de la colonne clé. Si l’indicateur de trace 4139 est définie, quel que soit l’état de colonne de statistiques au début (par ordre croissant, décroissant ou fixes), l’histogramme utilisé pour l’estimation de cardinalité soient ajustée à la compilation de requête. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2952101).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Remarque :** cet indicateur de trace ne s’applique pas à CE la version 70. Utilisez les indicateurs de trace 2389 et 2390 à la place.<br /><br />**Étendue**: global ou session ou une requête|
|**4199**|Permet d’interroger modifications de l’optimiseur (optimisation de requête) publiées dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mises à jour cumulatives et Service Packs.<br /><br />Modifications d’optimisation de requête qui sont effectuées à de précédentes versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont activées par défaut dans la base de données plus récente [le niveau de compatibilité](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) dans une version de produit donné, sans trace indicateur 4199 activée.<br /><br />Le tableau suivant récapitule le comportement lors de l’utilisation des niveaux de compatibilité de base de données spécifique et l’indicateur de trace 4199. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Niveau de compatibilité de base de données**</td><td>**TF 4199**</td><td>**Optimisation de requête passe de niveaux de compatibilité de base de données précédente**</td><td>**Post-RTM de modifications d’optimisation de requête pour la version actuelle**</td></tr><tr valign="middle" align="center"><td rowspan="2">**100 à 120**</td><td>Inactif</td><td>Désactivé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Actif</td><td>Activé</td><td>Activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Inactif</td><td>Activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Actif</td><td>Activé</td><td>Activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**140**</td><td>Inactif</td><td>Activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Actif</td><td>Activé</td><td>Activé</td></tr></table><br /><br />Pour ce faire, au niveau de la base de données, consultez l’option QUERY_OPTIMIZER_HOTFIXES dans [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'ENABLE_QUERY_OPTIMIZER_HOTFIXES' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue**: global ou session ou une requête|
|**4610**|Augmente la taille de la table de hachage qui stocke les entrées du cache par un facteur de 8. Lorsqu’il est utilisé conjointement avec l’indicateur de trace 4618 augmente le nombre d’entrées dans le stockage de cache TokenAndPermUserStore à 8 192. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/959823).<br /><br />**Étendue :** globale uniquement|
|**4616**|Permet aux rôles d'application d'accéder aux métadonnées au niveau du serveur. Dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], un rôle d'application ne peut pas accéder à des métadonnées situées en dehors de sa propre base de données car les rôles d'application ne sont pas associés à un principal au niveau serveur. Il s'agit là d'une différence par rapport aux versions antérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. La définition de cet indicateur global désactive les nouvelles restrictions et permet aux rôles d'application d'accéder aux métadonnées au niveau du serveur.<br /><br />**Étendue**: globale uniquement|
|**4618**|Limite le nombre d’entrées dans le cache TokenAndPermUserStore stocker à 1 024. Lorsqu’il est utilisé conjointement avec l’indicateur de trace 4610 augmente le nombre d’entrées dans le stockage de cache TokenAndPermUserStore à 8 192. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/959823).<br /><br />**Étendue :** globale uniquement|
|**5004**|Suspend le chiffrement TDE analyse et provoque le travail d’analyse de chiffrement quitter sans effectuer aucun travail. La base de données continuera à être lors du chiffrement de l’état (le chiffrement en cours d’exécution). Pour reprendre l’analyse de rechiffrement, désactiver l’indicateur de trace 5004 et exécuter l’instruction ALTER DATABASE < nom_base_de_données > définir une suite de chiffrement. <br /><br />**Étendue :** globale uniquement|
|**6498**|Active la compilation de requête de grande taille plusieurs accéder à la grande passerelle lorsqu’il est suffisamment de mémoire disponible. Il est basé sur le pourcentage de 80 de la mémoire de SQL Server cible, et il permet une compilation de requête volumineux par 25 gigaoctets (Go) de mémoire. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3024815).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ce comportement est contrôlé par le moteur et l’indicateur de trace 6498 n’a aucun effet.<br /><br />**Étendue**: globale uniquement|
|**6527**|Désactive la génération d'un vidage de la mémoire sur la première occurrence d'une exception mémoire insuffisante dans l'intégration du CLR. Par défaut, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] génère un vidage de mémoire sur la première occurrence d’une exception de mémoire insuffisante dans le CLR. Le comportement de l'indicateur de trace est comme suit :<br /><br />-Si cela est utilisé comme un indicateur de trace de démarrage, un vidage de mémoire n’est jamais généré. Toutefois, un vidage de la mémoire peut être généré si d'autres indicateurs de trace sont utilisés.<br />-Si cet indicateur de trace est activé sur un serveur en cours d’exécution, un vidage de mémoire n’être automatiquement généré à partir de ce point sur. Toutefois, si un vidage de la mémoire a déjà été généré en raison d'une exception mémoire insuffisante dans le CLR, cet indicateur de trace n'aura aucun effet.<br /><br />**Étendue**: globale uniquement|
|**6532**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Le gain de performances varie en fonction de la configuration, les types de requêtes et les objets. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ce comportement est contrôlé par le moteur et l’indicateur de trace 6532 n’a aucun effet.<br /><br />**Étendue**: global et session|
|**6533**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Le gain de performances varie en fonction de la configuration, les types de requêtes et les objets. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ce comportement est contrôlé par le moteur et l’indicateur de trace 6533 n’a aucun effet.<br /><br />**Étendue**: global et session| 
|**6534**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Le gain de performances varie en fonction de la configuration, les types de requêtes et les objets. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Étendue**: global et session|
|**7314**|Valeurs de nombre de force avec une précision/échelle inconnu est traitée comme des valeurs double avec le fournisseur OLE DB. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3051993).<br /><br />**Étendue**: global et session|  
|**7412**|Active les statistiques d’exécution de requête léger infrastructure de profilage. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3170113).<br /><br />**Étendue**: globale uniquement|
|**7471**|Permet l’exécution de plusieurs [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) pour différentes statistiques sur une seule table simultanément. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3156157).<br /><br />**Étendue**: globale uniquement|
|**7745**|Force le magasin de requêtes ne pas vider les données sur le disque lors de l’arrêt de la base de données.<br /><br />**Remarque :** à l’aide de cette trace peut entraîner des données de magasin de requêtes n’a pas été vidées sur le disque à être perdues en cas d’arrêt. Pour un [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] arrêt, la commande SHUTDOWN WITH NOWAIT peut être utilisé au lieu de cet indicateur de trace pour forcer un arrêt immédiat.<br /><br />**Étendue**: globale uniquement|
|**7752**|Permet le chargement asynchrone du magasin de requêtes.<br /><br />**Remarque :** utiliser cet indicateur de trace si [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] rencontrent un nombre élevé d’attentes QDS_LOADDB liés à la charge de magasin de requêtes synchrone (comportement par défaut).<br /><br />**Étendue**: globale uniquement|
|**7806**|Active une connexion administrateur dédiée (DAC) sur [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Par défaut, aucune ressource DAC n'est réservée sur [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Pour plus d’informations, consultez [Connexion de diagnostic pour les administrateurs de base de données](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Étendue**: globale uniquement|  
|**8011**|Désactivez la mémoire tampon en anneau pour le moniteur de ressource. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: global et session|
|**8012**|Désactiver la mémoire tampon en anneau pour les planificateurs. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: globale uniquement|
|**8015**|Désactiver la détection automatique et le programme d’installation NUMA. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2813214).<br /><br />**Étendue**: globale uniquement|
|**8018**|Désactiver la mémoire tampon en anneau d’exception. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: globale uniquement|
|**8019**|Désactiver la collecte de la pile de la mémoire tampon en anneau d’exception. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: globale uniquement|
|**8020**|Désactiver l’analyse de jeu de travail. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Étendue**: globale uniquement|
|**8032**|Rétablit les paramètres de limitation du cache au paramètre RTM [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] qui permet en général aux caches d'être plus volumineux. Utilisez ce paramètre quand les entrées du cache fréquemment utilisées ne tiennent pas dans le cache et que l’ [option de configuration de serveur Optimiser pour les charges de travail ad hoc](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) ne permet pas de résoudre le problème avec le cache du plan.<br /><br />**Avertissement :** l’indicateur de Trace 8 032 peut altérer les performances si des caches volumineux rendre moins de mémoire disponible pour les autres consommateurs, tels que le pool de mémoires tampons.<br /><br />**Étendue**: globale uniquement|   
|**8048**|Convertit NUMA partitionnées objets mémoire en processeur partitionné. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2809338).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ce comportement est contrôlé par le moteur et l’indicateur de trace 8048 n’a aucun effet.<br /><br />**Étendue**: globale uniquement|  
|**8079**|Permet de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 pour interroger la disposition de matériel et de configurer automatiquement Soft-NUMA sur les systèmes de création de rapports 8 ou plusieurs processeurs par nœud NUMA. Le comportement de Soft-NUMA automatique est Hyperthread (processeur logique/HT) prenant en charge. Le partitionnement et la création de nœuds supplémentaires échelles le traitement en arrière-plan en augmentant le nombre de ports d’écoute, mise à l’échelle et du réseau et des fonctions de chiffrement.<br /><br />**Remarque :** cet indicateur de trace s’applique aux [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2. En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ce comportement est contrôlé par le moteur et l’indicateur de trace 8048 n’a aucun effet.<br /><br />**Étendue**: globale uniquement| 
|**8207**|Active les mises à jour singleton pour la réplication transactionnelle. Mises à jour vers les abonnés peuvent être répliquées comme une paire de DELETE et INSERT. Cela est peut-être pas conforme aux règles d’entreprise, telles que le déclenchement d’un déclencheur de mise à jour. Avec l’indicateur de trace 8207, une mise à jour à une colonne unique qui n'affecte qu’une seule ligne (une mise à jour singleton) est répliquée comme une mise à jour et non comme une paire DELETE ou INSERT. Si la mise à jour concerne une colonne sur laquelle a une contrainte unique ou si la mise à jour affecte plusieurs lignes, la mise à jour est toujours répliquée comme une paire DELETE ou INSERT. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/302341).<br /><br />**Étendue**: globale uniquement|
|**8721**|Rapports pour le journal des erreurs lors de l’exécution de la mise à jour automatiquement les statistiques. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/195565).<br /><br />**Étendue**: globale uniquement|
|**8744**|Désactiver la pré-extraction pour l’opérateur de boucles imbriquées. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Remarque :** utilisation incorrecte de cet indicateur de trace peut entraîner physiques supplémentaires lit lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] exécute les plans qui contiennent l’opérateur Nested Loops.<br /><br />**Étendue**: global et session|
|**9024**|Convertit un objet de mémoire du pool de journal global en objet de mémoire partitionné de nœud NUMA. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/2809338).<br /><br />**Remarque :** compter [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 ce comportement est contrôlé par l’indicateur de trace et de moteur 9024 n’a aucun effet.<br /><br />**Étendue**: globale uniquement|
|**9347**|Désactive le mode de traitement par lots pour l’opérateur de tri. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]introduit un nouvel opérateur tri en mode batch qui améliore les performances pour de nombreuses requêtes analytiques. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3172787).<br /><br />**Étendue**: global ou session ou une requête|
|**9349**|Désactive le mode de traitement par lots pour l’opérateur de tri N de haut. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]introduit un nouvel opérateur tri supérieur en mode batch qui améliore les performances pour de nombreuses requêtes analytiques.<br /><br />**Étendue**: global ou session ou une requête|
|**9389**|Permet l’allocation de mémoire dynamique pour les opérateurs en mode batch. Si une requête n’obtient pas toute la mémoire dont il a besoin, il renverse de données tempdb, entraîner d’e/s supplémentaires et affecter potentiellement les performances des requêtes. Si l’indicateur de trace d’allocation mémoire dynamique est activée, un opérateur de mode de traitement par lots peut demander plus de mémoire et éviter déversement sur tempdb si la mémoire supplémentaire n’est disponible.<br /><br />**Étendue**: global ou session| 
|**9453**|Désactive le mode d’exécution du lot. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/help/4016902).<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue :** global et session et requête|
|**9471**|Entraîne [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour générer un plan à l’aide de sélectivité minimale pour les filtres de table unique, sous le modèle d’estimation de cardinalité d’optimiseur de requête de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] via [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versions.<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Remarque :** cet indicateur de trace ne s’applique pas à CE la version 70. Utilisez l’indicateur de trace 4137 à la place.<br /><br />**Étendue**: global ou session ou une requête| 
|**9476**|Entraîne [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour générer un plan à l’aide de l’hypothèse de relation contenant-contenu Simple au lieu de l’hypothèse de relation contenant-contenu de Base par défaut, sous le modèle d’estimation de cardinalité d’optimiseur de requête de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] via [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versions. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/3189675).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veuillez vous assurer que vous testez cette option, avant de le déployer dans un environnement de production.<br /><br />**Étendue**: global ou session ou une requête| 
|**9481**|Permet de définir le modèle d’estimation de cardinalité d’optimiseur de requête la [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et les versions antérieures, quel que soit le niveau de compatibilité de la base de données. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/kb/2801413). Pour ce faire, au niveau de la base de données, consultez l’option LEGACY_CARDINALITY_ESTIMATION dans [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />En commençant par [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’indicateur USE 'FORCE_LEGACY_CARDINALITY_ESTIMATION' [indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue**: global ou session ou une requête|  
|**9485**|Désactive les autorisations SELECT pour DBCC SHOW_STATISTICS.<br /><br />**Étendue**: globale uniquement|
|**9488**|Définit l’estimation fixe pour les fonctions table à la valeur par défaut de 1 (correspondant à la valeur par défaut sous le modèle d’estimation de cardinalité d’optimiseur de requête de [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] et les versions antérieures), lorsque vous utilisez le modèle d’estimation de cardinalité d’optimiseur de requête de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] via [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versions.<br /><br />**Étendue**: global ou session ou une requête|
|**9495**|Désactive le parallélisme lors de l’insertion pour insérer... Opérations SELECT et elle s’applique à l’utilisateur et les tables temporaires. Pour plus d’informations, consultez [article du Support Microsoft](http://support.microsoft.com/kb/3180087)<br /><br />**Étendue**: global ou session| 
|**9567**|Active la compression du flux de données pour les groupes de disponibilité AlwaysOn pendant l’amorçage automatique. La compression peut réduire considérablement le temps de transfert pendant l’amorçage automatique et augmente la charge sur le processeur. Pour plus d’informations, consultez [initialiser automatiquement le groupe de disponibilité Always On](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) et [régler la compression pour le groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue**: global ou session|
|**9591**|La compression de bloc de journal de désactive dans les groupes de disponibilité AlwaysOn. La compression de bloc de journal est le comportement par défaut utilisé avec les réplicas synchrones et asynchrones de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], la compression est utilisée uniquement avec la réplication asynchrone. <br /><br />**Étendue**: global ou session|
|**9592**|Permet de connecter à la compression du flux de groupes de disponibilité synchrone. Cette fonctionnalité est désactivée par défaut sur les groupes de disponibilité synchrone, car la compression augmente la latence. Pour plus d’informations, consultez [Régler la compression pour le groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue**: global ou session| 
|**9939**|Permet aux plans et parallèles analyse parallèle des tables optimisées en mémoire et les variables de table dans les opérations DML qui référencent des tables optimisées en mémoire ou des variables de table, tant qu’ils ne sont pas la cible de l’opération DML dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/4013877).<br /><br />**Remarque :** 9939 l’indicateur de Trace n’est pas nécessaire si l’indicateur de trace 4199 est également activée.<br /><br />**Étendue**: global ou session ou une requête|   
|**10204**|Désactive la fusion/recompresser au cours de réorganisation des index columnstore. Dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], lorsqu’un index columnstore est réorganisé, il existe de nouvelles fonctionnalités pour fusionner automatiquement les petits rowgroups compressés dans supérieure des rowgroups compressés, ainsi que recompresser les rowgroups qui ont un grand nombre de lignes supprimées.<br /><br />**Remarque :** l’indicateur de Trace 10204 ne s’applique pas aux index columnstore qui sont créés sur des tables optimisées en mémoire.<br /><br />**Étendue**: global ou session|   
|**10316**|Permet de créer des index supplémentaires sur [interne optimisée en mémoire temporal table intermédiaire](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md), à côté de celui par défaut. Si vous avez le modèle de requête spécifique qui inclut des colonnes qui ne sont pas couvertes par l’index de la valeur par défaut vous pouvez envisager d’ajouter de nouvelles.<br /><br />**Remarque :** système tables temporelles à des Tables optimisées en mémoire sont conçus pour fournir un débit transactionnel élevé. Sachez que la création d’index supplémentaires peut introduire surcharge pour les opérations DML mettre à jour ou supprimer des lignes dans la table actuelle. Trouver le juste équilibre entre les performances des requêtes temporelles et une surcharge supplémentaire DML doit viser avec les index supplémentaires.<br /><br />**Étendue**: global ou session|
|**11023**|Désactive l’utilisation de la dernière taux d’échantillonnage persistante, pour toutes les mises à jour de statistiques suivantes où un taux d’échantillonnage n’est pas spécifié explicitement dans le cadre de la [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) instruction. Pour plus d’informations, consultez ce [article du Support Microsoft](http://support.microsoft.com/kb/4039284).<br /><br />**Étendue**: global| 
  
## <a name="remarks"></a>Notes   
 Dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], il existe trois types d’indicateurs de trace : requête, de session et global. Les indicateurs de trace de requêtes sont actives pour le contexte d’une requête spécifique. Les indicateurs de trace de session sont actifs pour une connexion et sont visibles uniquement à cette connexion. Les indicateurs de trace globaux sont définis au niveau du serveur et sont visibles pour chaque connexion sur celui-ci. Certains indicateurs ne peuvent être activés qu'en tant qu'indicateurs globaux, tandis que d'autres peuvent être activés avec une étendue globale ou de session.  
  
 Les règles suivantes s'appliquent :  
-   Un indicateur de trace global doit être activé globalement. Sinon, il est sans effet. Nous vous recommandons d’activer les indicateurs de trace globaux au démarrage, à l’aide de la **-T** option de ligne de commande. Cela garantit que l’indicateur de trace reste actif après le redémarrage d’un serveur.  
-   Si un indicateur de trace possède soit global, étendue de session ou d’une requête, il peut être activée avec l’étendue appropriée. Un indicateur de trace activé au niveau session n'affecte jamais une autre session et l'effet de l'indicateur de trace est perdu lorsque le SPID qui a ouvert la session se déconnecte.  
  
Les indicateurs de trace s'activent ou se désactivent de l'une des façons suivantes :
-   en utilisant les commandes DBCC TRACEON et DBCC TRACEOFF ;  
     Par exemple, pour activer l’indicateur de trace 2528 globalement, utilisez DBCC TRACEON avec l’argument-1 : `DBCC TRACEON (2528, -1)`. L’effet de l’activation d’un indicateur de trace global avec DBCC TRACEON est perdue lors du redémarrage du serveur. Pour désactiver un indicateur de trace global, utilisez DBCC TRACEOFF avec l'argument -1.  
-   À l’aide de la **-T** option de démarrage pour spécifier que l’indicateur de trace est défini au démarrage.  
     Le **-T** option de démarrage active un indicateur de trace global. Vous ne pouvez pas activer un indicateur de trace de niveau session à l'aide d'une option de démarrage. Cela garantit que l’indicateur de trace reste actif après le redémarrage d’un serveur. Pour plus d’informations sur les options de démarrage, consultez [Options de démarrage du service moteur de base de données](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   Au niveau de la requête, à l’aide de la QUERYTRACEON [indicateur de requête](http://support.microsoft.com/kb/2801413).
  
Utilisez la `DBCC TRACESTATUS` commande afin de déterminer quels indicateurs de trace sont actives.
  
## <a name="examples"></a>Exemples  
 L’exemple suivant définit l’indicateur de trace 3205 sur pour toutes les sessions au niveau du serveur à l’aide de DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

Vous pouvez activer tous les correctifs affectant le plan contrôlés par les indicateurs de trace 4199 et 4137 pour une requête particulière.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>Voir aussi  
[Types de données &#40;Transact-SQL&#41;](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER &#40; Transact-SQL &#41;](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS &#40; Transact-SQL &#41;](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE &#40;Transact-SQL&#41;](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT &#40;Transact-SQL&#41;](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT &#40; Transact-SQL &#41;](../../t-sql/statements/set-nocount-transact-sql.md)  
[ALTER DATABASE SET Options &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[MODIFIER la CONFIGURATION inclus dans l’étendue de base de données &#40; Transact-SQL &#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Indicateurs de requête (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)

